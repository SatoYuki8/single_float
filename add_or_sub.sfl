

circuit add_or_sub{
    input a<26>;
    input b<26>;
    output result<26>;
    output cout;
    instrin add;
    instrin sub;

    sel_v tmp_a<27>;
    sel_v tmp_b<27>;
    sel_v tmp_res<27>;

    instruct add par{
	tmp_a = 0b0 || a;
	tmp_b = 0b0 || b;
	tmp_res = tmp_a + tmp_b;
	result = tmp_res<26:0>;
	cout = tmp_res<27>;
    }
    
    instruct sub par{
	result = a + (^b + 0b1);
	cout = 0b0;
    }
}
